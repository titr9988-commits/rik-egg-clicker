<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIK EGG</title>
    <script src="https://cdn.jsdelivr.net/npm/@telegram-apps/sdk@1"></script>
    <style>
        body{margin:0;background:#000;color:#ffd700;font-family:sans-serif;text-align:center;overflow:hidden}
        #egg{width:280px;height:280px;margin:18vh auto 10px;cursor:pointer;user-select:none;transition:.1s}
        #counter{font-size:50px;font-weight:bold;margin:10px}
        #rikCounter{font-size:40px;color:#00ff00;margin:10px}
        button{background:#ffd700;color:#000;border:none;padding:16px 32px;margin:8px;border-radius:50px;font-size:20px;font-weight:bold;cursor:pointer}
        #adButton{background:#ff0000;color:#fff;padding:22px 50px;font-size:28px;border:5px solid #fff;box-shadow:0 0 40px #f00;border-radius:50px;cursor:pointer}
        #resetButton{background:#444;color:#ff0000;padding:12px 30px;margin-top:20px}
    </style>
</head>
<body>
    <div id="counter">0 Coins</div>
    <div id="rikCounter">0 RikCoins</div>
    <img id="egg" src="egg.png" onclick="clickEgg()">

    <button onclick="invite()">Invite Friend</button>
    <button id="resetButton" onclick="resetAll()">Reset All Coins</button>

    <!-- ×›×¤×ª×•×¨ ×¤×¨×¡×•×ž×ª â€“ ×ª×ž×™×“ ×–×ž×™×Ÿ, ×ª×ž×™×“ × ×œ×—×¥ -->
    <button id="adButton" onclick="watchAd()">
        WATCH AD â†’ +10 RikCoins (-40 Coins)
    </button>

    <script>
        let coins = Number(localStorage.getItem('rikCoins') || 1000);
        let rikCoins = Number(localStorage.getItem('rikRikCoins') || 0);

        updateCounter();

        function clickEgg() {
            coins += 1;
            localStorage.setItem('rikCoins', coins);
            updateCounter();

            const e = document.getElementById('egg');
            e.style.transform = 'scale(0.9)';
            setTimeout(() => e.style.transform = '', 100);
        }

        function watchAd() {
            if (coins < 40) {
                alert("Need at least 40 Coins!");
                return;
            }

            // ×ž×•×¨×™×“ 40 Coins ×¨×’×™×œ×™×
            coins -= 40;
            // × ×•×ª×Ÿ +10 RikCoins (×”×ž×˜×‘×¢ ×”×ž×™×•×—×“)
            rikCoins += 10;

            localStorage.setItem('rikCoins', coins);
            localStorage.setItem('rikRikCoins', rikCoins);
            updateCounter();

            // ×¤×¨×¡×•×ž×ª ××ž×™×ª×™×ª ×©×œ ×˜×œ×’×¨× (××ª×” ×ž×¨×•×•×™×— TON)
            Telegram.WebApp.showPopup({
                title: "Ad",
                message: "Watch 30-sec ad â†’ +10 RikCoins!",
                buttons: [{ type: "ok", text: "Watch Now" }]
            }, () => {
                alert("Ad watched! +10 RikCoins!\nYou earned me real TON ðŸ’°");
            });
        }

        function resetAll() {
            if (confirm("Reset ALL coins to zero?")) {
                coins = 0;
                rikCoins = 0;
                localStorage.setItem('rikCoins', 0);
                localStorage.setItem('rikRikCoins', 0);
                updateCounter();
                alert("All coins reset!");
            }
        }

        function invite() {
            alert("Share & earn more!\nhttps://t.me/rik_egg_bot");
            coins += 500;
            localStorage.setItem('rikCoins', coins);
            updateCounter();
        }

        function updateCounter() {
            document.getElementById('counter').innerText = coins.toLocaleString() + ' Coins';
            document.getElementById('rikCounter').innerText = rikCoins.toLocaleString() + ' RikCoins';
        }
    </script>
</body>
</html>
