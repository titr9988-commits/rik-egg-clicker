<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIK EGG</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body{margin:0;background:#000;color:#ffd700;font-family:sans-serif;text-align:center;overflow:hidden}
        #egg{width:280px;height:280px;margin:15vh auto;cursor:pointer;transition:.1s}
        #coins{font-size:52px;font-weight:bold;margin:20px}
        #rik{font-size:44px;color:#00ff00;margin:10px}
        button{background:#ffd700;color:#000;padding:16px 36px;margin:8px;border-radius:50px;font-size:22px;font-weight:bold;cursor:pointer}
        #ad{background:#ff0000;color:#fff;padding:25px 80px;font-size:36px;border:6px solid #fff;box-shadow:0 0 50px #f00;border-radius:50px;cursor:pointer}
        #reset{background:#333;color:#ff0000;padding:16px 40px;font-size:22px;border-radius:50px;cursor:pointer}
        #withdraw{background:#00ff00;color:#000;padding:18px 50px;font-size:28px;margin:20px;border-radius:50px;display:none;cursor:pointer}
    </style>
</head>
<body>
    <div id="coins">0 Coins</div>
    <div id="rik">0 RikCoins</div>
    <img id="egg" src="https://github.com/user-attachments/assets/c9219822-2ee1-4120-b338-b491dc265dac" onclick="tap()">
    <br>
    <button onclick="invite()">Invite Friend</button>
    <button id="reset" onclick="resetAll()">RESET ALL</button>
    <button id="withdraw" onclick="withdraw()">WITHDRAW $</button>

    <button id="ad" onclick="showAd()">WATCH AD TO GET $</button>

    <script>
        // משתנים
        let coins = Number(localStorage.getItem('c') || 0);
        let rik = Number(localStorage.getItem('r') || 0);
        let earned = Number(localStorage.getItem('e') || 0);

        // עדכון מונים
        function update() {
            document.getElementById('coins').innerText = coins.toLocaleString() + ' Coins';
            document.getElementById('rik').innerText = rik.toLocaleString() + ' RikCoins';
            if (earned >= 0.5) document.getElementById('withdraw').style.display = 'block';
        }
        update();

        // לחיצה על הביצה
        function tap() {
            coins++;
            localStorage.setItem('c', coins);
            update();
            const e = document.getElementById('egg');
            e.style.transform = 'scale(0.9)';
            setTimeout(() => e.style.transform = '', 100);
        }

        // פרסומת – עובדת תמיד
        function showAd() {
            Telegram.WebApp.showPopup({
                message: "Watching ad…",
                buttons: [{type: "close"}]
            }, () => {
                rik += 10;
                localStorage.setItem('r', rik);
                update();
            });
        }

        // רפרל
        function invite() {
            Telegram.WebApp.openLink("https://t.me/rik_egg_bot");
            coins += 2000;
            localStorage.setItem('c', coins);
            update();
        }

        // איפוס
        function resetAll() {
            if (confirm("Reset ALL Coins & RikCoins?")) {
                localStorage.clear();
                location.reload();
            }
        }

        // משיכה
        function withdraw() {
            if (earned < 0.5) return alert("Minimum 0.5$");
            alert(`$${earned.toFixed(2)} sent to your TON wallet!`);
            earned = 0;
            localStorage.setItem('e', 0);
            document.getElementById('withdraw').style.display = 'none';
            update();
        }
    </script>
</body>
</html>
